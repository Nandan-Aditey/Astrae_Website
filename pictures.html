---
layout: default
title: Art Gallery
---

<!-- Tailwind CSS via CDN -->
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@3.4.1/dist/tailwind.min.css" rel="stylesheet">

<!-- Gallery Grid -->
<div id="gallery" class="columns-1 md:columns-2 lg:columns-3 xl:columns-4 gap-4 space-y-4">
  {% assign art_posts = site.categories.pictures %}
  {% for post in art_posts %}
    <div class="break-inside-avoid mb-4">
      <div
        class="bg-white border-2 border-gray-200 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 cursor-pointer hover:border-gray-300 hover:scale-[1.02]"
        onclick='openModal({ 
          "title": {{ post.title | jsonify }},
          "author": {{ post.author | jsonify }},
          "description": {{ post.description | jsonify }},
          "src": "{{ post.image }}",
          "width": 800,
          "height": 1000
        })'
      >
        <div class="relative">
          <img
            src="{{ post.image }}"
            alt="{{ post.title }}"
            class="w-full h-auto object-cover transition-opacity duration-300 opacity-0"
            style="aspect-ratio: 4 / 5"
            loading="lazy"
            onload="this.classList.add('opacity-100'); this.nextElementSibling.remove();"
            onerror="this.parentNode.innerHTML = '<div class=\'bg-gray-200 p-4 text-center text-gray-500\'>Failed to load image</div>'"
          />
          <div class="absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center">
            <span class="text-gray-400">Loading...</span>
          </div>
        </div>
      </div>
    </div>
  {% endfor %}
</div>

<!-- Modal & JS -->
<script>
function openModal(picture) {
  const modal = document.createElement('div');
  modal.id = 'picture-modal';
  modal.className = 'fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4';
  modal.onclick = closeModal;
  modal.innerHTML = `
    <div class="relative bg-white rounded-lg max-w-4xl max-h-[90vh] overflow-hidden shadow-xl" onclick="event.stopPropagation()">
      <button onclick="closeModal()" class="absolute top-2 right-2 z-10 bg-white/80 hover:bg-white text-gray-600 hover:text-black rounded-full p-1">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
      </button>
      <div class="flex flex-col md:flex-row">
        <div class="flex-1 flex items-center justify-center p-4">
          <img src="${picture.src}" alt="${picture.title}" class="max-w-full max-h-[60vh] object-contain rounded" />
        </div>
        <div class="w-full md:w-80 p-6 border-t md:border-t-0 md:border-l border-gray-200">
          <h2 class="text-xl font-bold mb-2">${picture.title}</h2>
          <p class="text-gray-600 mb-2">${picture.description}</p>
          <div class="text-sm text-gray-500">
            <p>By: ${picture.author}</p>
            <p>Dimensions: ${picture.width} Ã— ${picture.height}</p>
            <p>Aspect Ratio: ${(picture.width / picture.height).toFixed(2)}:1</p>
          </div>
        </div>
      </div>
    </div>
  `;
  document.body.appendChild(modal);
  document.body.style.overflow = 'hidden';
  document.addEventListener('keydown', handleEscape);
}

function closeModal() {
  const modal = document.getElementById('picture-modal');
  if (modal) {
    modal.remove();
    document.body.style.overflow = '';
    document.removeEventListener('keydown', handleEscape);
  }
}

function handleEscape(e) {
  if (e.key === 'Escape') {
    closeModal();
  }
}
</script>
